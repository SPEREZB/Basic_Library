{% extends "base.html" %}

{% block Titulo %} Libros{% endblock %}

{% block contenido %}

{% include 'utilities/alert.html' %}

<div class="card shadow-lg">
  <div class="card-header bg-dark bg-gradient d-flex justify-content-between align-items-center">
    <h3 class="text-white mb-0">Gestión de Libros</h3>
    <a href="{% url 'crear' %}" class="btn btn-success bg-gradient">Crear Libro</a>
  </div>

  <div class="card-body bg-secondary bg-gradient text-light">
    <h2 class="card-title text-center mb-4">Lista de Libros</h2>
    <div class="table-responsive">
      <table class="table table-striped table-dark table-hover">
        <thead class="bg-dark text-light">
          <tr>
            <th>ID</th>
            <th>Título</th>
            <th>Imagen</th>
            <th>Descripción</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
              {% for libro in page_obj.object_list %}  <!-- Cambié "libros" por "page_obj.object_list" -->
          <tr>
            <td>{{ libro.id }}</td>
            <td>{{ libro.nombre }}</td>
            <td>
              <img src="{{ libro.imagenes }}" alt="Imagen de {{ libro.nombre }}" class="img-fluid rounded" style="max-width: 100px;">
            </td>
            <td>{{ libro.descripcion }}</td>
            <td>
              <a href="{% url 'editar' libro.id %}" class="btn btn-warning bg-gradient text-white btn-sm me-2">Editar</a>
              <a href="{% url 'eliminar' libro.id %}" class="btn btn-danger bg-gradient btn-sm">Eliminar</a>
            </td>
          </tr>
          {% endfor %}
              <div class="pagination justify-content-center">

        {% if page_obj.has_previous %}
          <a class="page-link" href="?page={{ page_obj.previous_page_number }}">«</a>
        {% else %}
          <span class="page-link disabled">«</span>
        {% endif %}


        {% for num in page_obj.paginator.page_range %}
          <a class="page-link {% if page_obj.number == num %}active{% endif %}" href="?page={{ num }}">{{ num }}</a>
        {% endfor %}


        {% if page_obj.has_next %}
          <a class="page-link" href="?page={{ page_obj.next_page_number }}">»</a>
        {% else %}
          <span class="page-link disabled">»</span>
        {% endif %}
      </div>
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
 